<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Password & Passphrase Generator</title>
    
    <!-- Website Icon (Favicon) -->
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='white' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'><rect x='3' y='11' width='18' height='11' rx='2' ry='2'></rect><path d='M7 11V7a5 5 0 0 1 10 0v4'></path></svg>">

    <!-- Tailwind CSS for styling -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Google Fonts: Inter -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    
    <style>
        /* Custom styles for a better look and feel */
        body {
            font-family: 'Inter', sans-serif;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }

        /* Custom slider track style */
        input[type=range]::-webkit-slider-runnable-track {
            background: #374151; /* gray-700 */
            height: 0.5rem;
        }
        input[type=range]::-moz-range-track {
            background: #374151; /* gray-700 */
            height: 0.5rem;
        }

        /* Custom slider thumb style */
        input[type=range]::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            background: #eef2ff; /* indigo-50 */
            cursor: pointer;
            height: 1.25rem; /* 20px */
            width: 1.25rem; /* 20px */
            border-radius: 9999px;
            border: 3px solid #4f46e5; /* indigo-600 */
            margin-top: -0.375rem; /* (track height - thumb height) / 2 */
            transition: transform 0.2s ease-in-out, box-shadow 0.2s ease-in-out;
        }

        input[type=range]:hover::-webkit-slider-thumb {
            transform: scale(1.1);
        }

        input[type=range]:focus::-webkit-slider-thumb {
            box-shadow: 0 0 0 4px rgba(79, 70, 229, 0.5);
        }

        input[type=range]::-moz-range-thumb {
            background: #eef2ff; /* indigo-50 */
            cursor: pointer;
            height: 1.25rem;
            width: 1.25rem;
            border-radius: 9999px;
            border: 3px solid #4f46e5; /* indigo-600 */
        }
        
        input[type=range]:focus::-moz-range-thumb {
            box-shadow: 0 0 0 4px rgba(79, 70, 229, 0.5);
        }


        /* Custom toggle switch styling */
        .toggle-checkbox:checked {
            right: 0;
            border-color: #4f46e5;
        }
        .toggle-checkbox:checked + .toggle-label {
            background-color: #4f46e5;
        }
        
        /* Strength bar transition */
        #strengthBar > div {
            transition: width 0.3s ease-in-out, background-color 0.3s ease-in-out;
        }
    </style>
</head>
<body class="bg-gray-900 text-gray-200 flex items-center justify-center min-h-screen p-4">

    <div class="w-full max-w-md mx-auto">
        <header class="text-center mb-8">
            <h1 class="text-3xl md:text-4xl font-bold text-white">Password Generator</h1>
            <p class="text-gray-400 mt-2">Create secure passwords and memorable passphrases.</p>
        </header>

        <main class="bg-gray-800 rounded-lg shadow-2xl p-6 space-y-6">
            <!-- Result Display -->
            <div class="relative bg-gray-900 rounded-md p-4 flex items-center justify-between">
                <span id="resultEl" class="text-lg font-mono break-all pr-12"></span>
                <button id="copyBtn" class="absolute right-4 top-1/2 -translate-y-1/2 p-2 text-gray-400 hover:text-white transition-colors duration-200" title="Copy to clipboard">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
                        <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
                    </svg>
                </button>
            </div>

            <!-- Strength Indicator -->
            <div id="strengthContainer" class="space-y-2">
                <div class="w-full bg-gray-700 rounded-full h-2.5">
                    <div id="strengthBar" class="h-2.5 rounded-full"></div>
                </div>
                <span id="strengthText" class="text-sm font-medium text-gray-400"></span>
            </div>

            <!-- Generator Mode Toggle -->
            <div class="flex items-center justify-center space-x-4 text-sm font-medium">
                <span id="passwordLabel" class="text-white">Password</span>
                <div class="relative inline-block w-10 mr-2 align-middle select-none transition duration-200 ease-in">
                    <input type="checkbox" name="toggle" id="modeToggle" class="toggle-checkbox absolute block w-6 h-6 rounded-full bg-white border-4 appearance-none cursor-pointer"/>
                    <label for="modeToggle" class="toggle-label block overflow-hidden h-6 rounded-full bg-gray-600 cursor-pointer"></label>
                </div>
                <span id="passphraseLabel" class="text-gray-500">Passphrase</span>
            </div>

            <!-- Options Container -->
            <div id="optionsContainer">
                <!-- Password Options -->
                <div id="passwordOptions" class="space-y-4">
                    <div class="flex items-center justify-between">
                        <label for="length" class="font-medium">Password Length</label>
                        <span id="lengthValue" class="text-indigo-400 font-bold text-lg w-8 text-center">16</span>
                    </div>
                    <input type="range" id="length" min="8" max="50" value="16" class="w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer">
                    
                    <div class="grid grid-cols-1 sm:grid-cols-2 gap-4 pt-2">
                        <div class="flex items-center">
                            <input id="uppercase" type="checkbox" checked class="w-5 h-5 text-indigo-600 bg-gray-700 border-gray-600 rounded focus:ring-indigo-500">
                            <label for="uppercase" class="ml-3 text-sm font-medium">Uppercase (A-Z)</label>
                        </div>
                         <div class="flex items-center">
                            <input id="lowercase" type="checkbox" checked class="w-5 h-5 text-indigo-600 bg-gray-700 border-gray-600 rounded focus:ring-indigo-500">
                            <label for="lowercase" class="ml-3 text-sm font-medium">Lowercase (a-z)</label>
                        </div>
                        <div class="flex items-center">
                            <input id="numbers" type="checkbox" checked class="w-5 h-5 text-indigo-600 bg-gray-700 border-gray-600 rounded focus:ring-indigo-500">
                            <label for="numbers" class="ml-3 text-sm font-medium">Numbers (0-9)</label>
                        </div>
                        <div class="flex items-center">
                            <input id="symbols" type="checkbox" checked class="w-5 h-5 text-indigo-600 bg-gray-700 border-gray-600 rounded focus:ring-indigo-500">
                            <label for="symbols" class="ml-3 text-sm font-medium">Symbols (!@#)</label>
                        </div>
                    </div>
                </div>

                <!-- Passphrase Options -->
                <div id="passphraseOptions" class="hidden space-y-4">
                     <div class="flex items-center justify-between">
                        <label for="words" class="font-medium">Number of Words</label>
                        <span id="wordsValue" class="text-indigo-400 font-bold text-lg w-8 text-center">4</span>
                    </div>
                    <input type="range" id="words" min="3" max="20" value="4" class="w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer">
                </div>
            </div>

            <!-- Generate Button -->
            <button id="generateBtn" class="w-full bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-3 px-4 rounded-lg transition-colors duration-200 text-lg shadow-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-opacity-50">
                Generate
            </button>
        </main>
    </div>

    <script>
        // --- DOM Elements ---
        const resultEl = document.getElementById('resultEl');
        const copyBtn = document.getElementById('copyBtn');
        const generateBtn = document.getElementById('generateBtn');
        
        const modeToggle = document.getElementById('modeToggle');
        const passwordLabel = document.getElementById('passwordLabel');
        const passphraseLabel = document.getElementById('passphraseLabel');

        const passwordOptions = document.getElementById('passwordOptions');
        const lengthEl = document.getElementById('length');
        const lengthValue = document.getElementById('lengthValue');
        const uppercaseEl = document.getElementById('uppercase');
        const lowercaseEl = document.getElementById('lowercase');
        const numbersEl = document.getElementById('numbers');
        const symbolsEl = document.getElementById('symbols');

        const passphraseOptions = document.getElementById('passphraseOptions');
        const wordsEl = document.getElementById('words');
        const wordsValue = document.getElementById('wordsValue');
        
        const strengthContainer = document.getElementById('strengthContainer');
        const strengthBar = document.getElementById('strengthBar');
        const strengthText = document.getElementById('strengthText');

        // --- Character/Word Sets ---
        const randomFunc = {
            lower: getRandomLower,
            upper: getRandomUpper,
            number: getRandomNumber,
            symbol: getRandomSymbol
        };

        const wordList = [
            'apple', 'banana', 'orange', 'grape', 'lemon', 'peach', 'kiwi', 'melon', 'berry', 'mango',
            'tiger', 'lion', 'bear', 'wolf', 'fox', 'eagle', 'hawk', 'shark', 'whale', 'dolphin',
            'ocean', 'river', 'mountain', 'forest', 'desert', 'island', 'valley', 'canyon', 'glacier', 'volcano',
            'guitar', 'piano', 'violin', 'drums', 'flute', 'trumpet', 'harp', 'cello', 'voice', 'synth',
            'happy', 'sunny', 'bright', 'calm', 'brave', 'clever', 'strong', 'gentle', 'kind', 'wise',
            'blue', 'green', 'red', 'yellow', 'purple', 'orange', 'black', 'white', 'silver', 'gold',
            'rocket', 'planet', 'galaxy', 'star', 'comet', 'nebula', 'orbit', 'lunar', 'solar', 'cosmic',
            'coffee', 'pizza', 'sushi', 'taco', 'burger', 'pasta', 'salad', 'bacon', 'waffle', 'cookie',
            'cloud', 'storm', 'sun', 'moon', 'rain', 'snow', 'tree', 'flower', 'seed', 'leaf', 'root', 'branch',
            'table', 'chair', 'phone', 'book', 'key', 'door', 'window', 'lamp', 'clock', 'bottle', 'box', 'pen',
            'cat', 'dog', 'fish', 'bird', 'horse', 'sheep', 'cow', 'pig', 'duck', 'mouse', 'frog', 'snake',
            'jump', 'run', 'swim', 'fly', 'walk', 'talk', 'sing', 'dance', 'read', 'write', 'think', 'dream',
            'quick', 'slow', 'big', 'small', 'old', 'new', 'good', 'bad', 'dark', 'light', 'warm', 'cold',
            'code', 'data', 'link', 'web', 'app', 'cloud', 'server', 'pixel', 'byte', 'chip', 'wire', 'screen',
            'bread', 'cheese', 'milk', 'egg', 'rice', 'bean', 'soup', 'cake', 'pie', 'juice', 'tea', 'water'
        ];

        // --- Event Listeners ---
        lengthEl.addEventListener('input', (e) => {
            lengthValue.innerText = e.target.value;
            generateValue();
        });
        wordsEl.addEventListener('input', (e) => {
            wordsValue.innerText = e.target.value;
            generateValue();
        });
        uppercaseEl.addEventListener('change', generateValue);
        lowercaseEl.addEventListener('change', generateValue);
        numbersEl.addEventListener('change', generateValue);
        symbolsEl.addEventListener('change', generateValue);

        modeToggle.addEventListener('change', () => {
            const isPassphrase = modeToggle.checked;
            passwordOptions.classList.toggle('hidden', isPassphrase);
            passphraseOptions.classList.toggle('hidden', !isPassphrase);
            strengthContainer.classList.toggle('hidden', isPassphrase);
            
            passwordLabel.classList.toggle('text-white', !isPassphrase);
            passwordLabel.classList.toggle('text-gray-500', isPassphrase);
            
            passphraseLabel.classList.toggle('text-white', isPassphrase);
            passphraseLabel.classList.toggle('text-gray-500', !isPassphrase);
            
            generateValue();
        });

        generateBtn.addEventListener('click', generateValue);
        
        copyBtn.addEventListener('click', () => {
            const textToCopy = resultEl.innerText;
            if (!textToCopy) return;

            const textArea = document.createElement('textarea');
            textArea.value = textToCopy;
            document.body.appendChild(textArea);
            textArea.select();
            
            try {
                document.execCommand('copy');
                const originalIcon = copyBtn.innerHTML;
                copyBtn.innerHTML = `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-green-400"><polyline points="20 6 9 17 4 12"></polyline></svg>`;
                setTimeout(() => { copyBtn.innerHTML = originalIcon; }, 2000);
            } catch (err) {
                console.error('Failed to copy text: ', err);
            }
            
            document.body.removeChild(textArea);
        });

        // --- Generator Functions ---
        
        function generateValue() {
            if (modeToggle.checked) {
                generatePassphrase();
            } else {
                generatePassword();
            }
        }

        function generatePassword() {
            const length = +lengthEl.value;
            const hasUpper = uppercaseEl.checked;
            const hasLower = lowercaseEl.checked;
            const hasNumbers = numbersEl.checked;
            const hasSymbols = symbolsEl.checked;
            
            const password = createPassword(hasLower, hasUpper, hasNumbers, hasSymbols, length);
            resultEl.innerText = password;
            updateStrengthMeter(password);
        }

        function createPassword(lower, upper, number, symbol, length) {
            let generatedPassword = '';
            const typesCount = lower + upper + number + symbol;
            if (typesCount === 0) {
                return '';
            }
            const typesArr = [{lower}, {upper}, {number}, {symbol}].filter(item => Object.values(item)[0]);

            for (let i = 0; i < length; i++) {
                const funcName = Object.keys(typesArr[Math.floor(Math.random() * typesArr.length)])[0];
                generatedPassword += randomFunc[funcName]();
            }

            const finalPassword = shuffleString(generatedPassword);
            return finalPassword.slice(0, length);
        }
        
        function generatePassphrase() {
            const wordCount = +wordsEl.value;
            let passphrase = [];
            for (let i = 0; i < wordCount; i++) {
                const randomIndex = Math.floor(Math.random() * wordList.length);
                passphrase.push(wordList[randomIndex]);
            }
            resultEl.innerText = passphrase.join('-');
        }
        
        // --- Helper & UI Functions ---
        
        function updateStrengthMeter(password) {
            let score = 0;
            if (!password) {
                strengthBar.style.width = '0%';
                strengthText.textContent = '';
                return;
            }

            // Criteria for scoring
            if (password.length >= 12) score++;
            if (password.length >= 16) score++;
            if (/[a-z]/.test(password) && /[A-Z]/.test(password)) score++;
            if (/\d/.test(password)) score++;
            if (/[^A-Za-z0-9]/.test(password)) score++;

            let strength = {
                text: 'Weak',
                color: 'bg-red-500',
                width: '25%'
            };

            if (score >= 5) {
                strength = { text: 'Very Strong', color: 'bg-emerald-500', width: '100%' };
            } else if (score >= 4) {
                strength = { text: 'Strong', color: 'bg-green-500', width: '75%' };
            } else if (score >= 3) {
                strength = { text: 'Medium', color: 'bg-yellow-500', width: '50%' };
            }
            
            strengthBar.style.width = strength.width;
            strengthBar.className = `h-2.5 rounded-full ${strength.color}`;
            strengthText.textContent = `Strength: ${strength.text}`;
        }

        function getRandomLower() { return String.fromCharCode(Math.floor(Math.random() * 26) + 97); }
        function getRandomUpper() { return String.fromCharCode(Math.floor(Math.random() * 26) + 65); }
        function getRandomNumber() { return String.fromCharCode(Math.floor(Math.random() * 10) + 48); }
        function getRandomSymbol() {
            const symbols = '!@#$%^&*(){}[]=<>/,.';
            return symbols[Math.floor(Math.random() * symbols.length)];
        }
        
        function shuffleString(s) {
            const arr = s.split('');
            for (let i = arr.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [arr[i], arr[j]] = [arr[j], arr[i]];
            }
            return arr.join('');
        }

        // --- Initial Load ---
        generateValue();

    </script>

</body>
</html>
